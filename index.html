<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <title>K2 認詞語遊戲</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family:Arial, sans-serif; text-align:center; padding:20px; margin:0; background:#FFF9E5; }
    h1 { color:#FF8C00; font-size:6vw; }
    button { border-radius:10px; border:2px solid #ccc; background:#f0f0f0; cursor:pointer; transition:0.2s; font-weight:bold; }
    button:hover:not(:disabled) { background:#ddd; }
    button:disabled { cursor:default; opacity:0.7; }
    .word-list { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:20px; }
    .word-list button { font-size:6vw; padding:6px 10px; }
    .practice-display { margin-top:20px; }
    .practice-display img { width:60vw; max-width:200px; height:auto; margin-top:10px; border:2px solid #ccc; border-radius:8px; }
    @media(min-width:768px){ h1{font-size:36px;} .word-list button{font-size:28px;} }
  </style>
</head>
<body>
  <h1>K2 認詞語遊戲</h1>

  <div id="menu">
    <button onclick="startGameMode()">▶️ 遊戲模式</button>
    <button onclick="startPracticeMode()">📚 練習模式</button>
  </div>

  <div id="game" style="display:none;">
    <!-- 遊戲模式略（同之前版本） -->
    <button onclick="returnToMenu()">🔙 返回選單</button>
  </div>

  <div id="practice" style="display:none;">
    <div class="word-list" id="wordListButtons"></div>
    <div class="practice-display" id="practiceDisplay">
      <div id="practiceWord" style="font-size:5vw; color:#333; font-weight:bold;"></div>
      <img id="practiceImg" src="" alt="" style="display:none;" />
    </div>
    <button onclick="returnToMenu()">🔙 返回選單</button>
  </div>

  <audio id="correctSound" src="..."></audio>
  <script>
    const practiceWords = [
      ["椅子","桌子","香蕉","帽子"],
      ["蘋果","橙子","氣球","玩具"],
      ["帽子","褲子","鞋子","書包"],
      ["學生","老師","家長","朋友"],
      ["玩具","圖書","餐具","積木"],
      ["巴士","火車","的士","船隻"],
      ["月亮","星星","雲朵","太陽"],
      ["鞦韆","滑梯","樓梯","斜路"],
      ["書本","鉛筆","橡皮","剪刀"],
      ["飯盒","水樽","碗筷","毛巾"],
      ["蘭花","玫瑰","菊花","荷花"],
      ["巴士","的士","火車","飛機"],
      ["玩具","氣球","書包","球"],
      ["電腦","手機","電視","電話"],
      ["飯盒","水樽","碗筷","筷子"],
      ["學生","家長","老師","朋友"],
      ["太陽","月亮","星星","雲朵"],
      ["燈泡","風扇","空調","電扇"],
      ["帽子","手套","圍巾","襪子"],
      ["書本","筆記","紙張","紙巾"]
    ].flat();

    function speak(text){
      const msg=new SpeechSynthesisUtterance(text);
      msg.lang='zh-HK';
      speechSynthesis.cancel();
      speechSynthesis.speak(msg);
    }

    function startPracticeMode(){
      document.getElementById("menu").style.display='none';
      document.getElementById("practice").style.display='block';
      const div=document.getElementById("wordListButtons");
      div.innerHTML='';
      practiceWords.forEach(word=>{
        const btn=document.createElement('button');
        btn.innerText=word;
        btn.onclick=()=>onWordClick(word);
        div.appendChild(btn);
      });
    }

    function onWordClick(word){
      speak(word);
      document.getElementById('practiceWord').innerText=word;
      const img=document.getElementById('practiceImg');
      // 預設路徑：img/詞語.png（可根據實際替換）
      img.src=`img/${word}.png`;
      img.alt=word;
      img.onerror=function(){
        img.style.display='none';
      };
      img.onload=function(){
        img.style.display='block';
      };
    }

    function returnToMenu(){
      speechSynthesis.cancel();
      document.getElementById("menu").style.display='block';
      document.getElementById("practice").style.display='none';
    }
  </script>
</body>
</html>
